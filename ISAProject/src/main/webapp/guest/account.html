<div>

	<form name="copyOfUser">
		<div ng-if="user.friendRequests.length>0">
			<div class = "col-sm-8">
				<h3>Friend requests:</h3><br>
				<table class="table table-bordered">
				  <tr>
				    <th>Name</th>
				    <th>Surname</th> 
				    <th>Email</th>
				    <th>Accept</th>
				    <th>Reject</th>
				  </tr>
				  <tr ng-repeat="request in user.friendRequests" >
				    <td>{{request.name}}</td>
				    <td>{{request.surname}}</td>
				    <td>{{request.email}}</td>
				    <td><button type="button" class="btn btn-primary" ng-click="acceptRequest(request)">Accept</button></td>
				    <td><button type="button" class="btn btn-primary" ng-click="deleteRequest(request)">X</button></td>
				  </tr>
				</table>
			</div>
		</div>

		<div class = "col-sm-6">
			<br>
			<h3>Update data:</h3><br>
	
			<label>Name: </label>
			<input name="copyOfUser.name" type="text" ng-model="$parent.copyOfUser.name" class="form-control" required/>
	
			<label>Surname: </label>
			<input  name="copyOfUser.surname" type="text" ng-model="$parent.copyOfUser.surname" class="form-control" required/>
	
			<label>Email: </label>
			<input name="copyOfUser.email" type="text" ng-model="$parent.copyOfUser.email" class="form-control" required disabled/>
	
			<label>Password: </label>
			<input name="copyOfUser.password" type="password" ng-model="$parent.copyOfUser.password" class="form-control" required/>
	
			<label>Repeat password: </label>
			<input name="copyOfUser.repeatedPassword" type="password" ng-model="$parent.repeatedPassword" class="form-control" required/>
	
			<br><br>
	
			<div class="button">
				<button type="submit" class="btn btn-primary" ng-click="copyOfUser.$valid && changeProfile()">Update</button>
			</div>
		
			<br><br><br>
		</div>
		<div class = "col-sm-10">
	
			<div class = "col-sm-6">
				
				<input type="text" list="friends" class="form-control" placeholder="search" ng-model="$parent.friend.email"/>
				<datalist id="friends">
				    <option ng-if="guest.email!=user.email" ng-repeat="guest in guests"
				            value="{{guest.email}}">{{guest.name}} {{guest.surname}}</option>
				</datalist>
			</div>
			
			<div class = "col-sm-2">
				<div class="button">
					<button type="button" class="btn btn-primary" ng-click="addFriend()">Add Friend</button>
				</div>	
			</div>
			<br><br><br><br>
		</div>
		
		<div class = "col-sm-8" ng-if="requestsForFriends.length>0">
			<h3>Sent requests:</h3><br>
			<table class="table table-bordered">
			  <tr>
			    <th>Name</th>
			    <th>Surname</th> 
			    <th>Email</th>
			  </tr>
			  <tr ng-repeat="friend in $parent.requestsForFriends">
			    <td>{{friend.name}}</td>
			    <td>{{friend.surname}}</td>
			    <td>{{friend.email}}</td>
			  </tr>
			</table>
			
			<br><br><br>
		</div>
	
	</form>

</div>